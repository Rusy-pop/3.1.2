<!DOCTYPE html>
<html lang="en">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang=""
    xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<head>
    <meta charset="UTF-8">
    <title>Users</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>
    <!-- Navbar -->

    <nav class="navbar navbar-dark bg-dark">
        <!-- <ul>
            <div class="text-white" sec:authorize="${hasRole('ROLE_ADMIN')}">
                <span class="nav-text text-white" />
            </div>
            <div class="text-white" sec:authorize="${hasRole('ROLE_USER')}">
                <li class="nav-item">
                                   <a th:text="">User</a>
                </li>
            </div>
        </ul> -->
        <form class="form-inline mt-2 my-lg-0" th:action="@{/logout}" method="post">
            <button type="submit" class="btn btn-dark">Sign Out</button>
        </form>
    </nav>

    <!-- /Navbar -->

    <!-- Left -->
    

    <div class="container-fluid">
        <div class="row">
            <div class="col-2 bg-white pt-3 min-vh-100 px-0">
                <div>
                    <div class="active" aria-pressed="false" >
                        <a href="#" class="btn btn-primary btn-block mt-2" data-toggle="button" role="button">Admin</a>
                    </div>
                    
                </div>
                <div>
                    <div class="active" aria-pressed="true">
                        <a href="#" class="btn btn-primary btn-block mt-2" data-toggle="button" role="button">User</a>
                    </div>
                </div>
            </div>

            <!-- /Left -->


            <!-- Right -->
            <div class="col">
                <h2>
                    Admin panel
                </h2>

                <!-- мини панель -->
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a class="nav-link active"
                           id="user-table-tab"
                           data-toggle="tab"
                           href="#userTable"
                           role="tab"
                           aria-controls="userTable"
                           aria-selected="true">Users table</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link"
                           id="new-user-tab"
                           data-toggle="tab"
                           href="#newUser"
                           role="tab"
                           aria-controls="newUser"
                           aria-selected="false">New user</a>
                    </li>
                </ul>

                <!-- ---------- -->

                <!-- контейнер с вкладками -->
                <div class="tab-content">

                    <!-- содержимое первой вкладки -->
                    <div class="tab-pane fade show active" id="userTable" role="tabpanel" aria-labelledby="user-table-tab">
                        <div ml-2><h6>  All users</h6></div>
                        <table>
                            <tr th:each="user : ${users}">
                                <td th:utext="${user.getId()}" />
                                <td th:utext="${user.getUsername()}" />
                                <td th:utext="${user.getEmail()}" />
                                <td th:utext="${user.getAge()}" />
                                <td th:utext="${user.getRoles()}" />
                                <td><a class="btn btn-success" th:href="@{admin/{id}(id=${user.getId()})}">edit</a></td>
                                <td>
                                    <form th:method="DELETE" th:action="@{admin/{id}(id=${user.getId()})}">
                                        <input type="submit" value="Delete" />
                                    </form>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <!-- содержимое второй вкладки -->
                    <div class="tab-pane fade show active" id="newUser" role="tabpanel" aria-labelledby="new-user-tab">
                        <h4>ldd</h4>
                        <!-- <div class="container">
                            <form method="post" th:action="@{/admin}" th:object="${newUser}">
                                <div>
                                    <input type="text" name="name" />
                                    <label th:for="name">Name</label>
                                </div>
                                <div>
                                    <input type="text" name="email" />
                                    <label th:for="email">Email</label>

                                </div>
                                <div>
                                    <input type="number" name="age" />
                                    <label th:for="age">Age</label>
                                </div>
                                <div>
                                    <input type="text" name="password" />
                                    <label th:for="password">Password</label>
                                </div>
                                <div><input type="submit" th:value="Save"></div>
                            </form>
                        </div> -->
                    </div>

                    <!-- ---------- -->
                </div>
            </div>
        </div>

    </div>
</body>

</html>